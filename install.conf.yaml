- defaults:
    link:
      create: true
      force: true
    shell:
      stdin: true

# Install Homebrew if not installed
- install-brew: true

# Install Homebrew packages
- brew:
  - fish
  - starship
  - gpg
  - git
  - git-delta

# Clear broken symlinks
- clean: [ '~' ]
- clean:
    ~/.config:
      recursive: true

# Symlink dotfiles
- link:
    # Fish
    ~/.config/fish/config.fish: fish/config.fish
    ~/.config/fish/functions: fish/functions
    # Starship
    ~/.config/starship.toml: starship/starship.toml
    # Git
    ~/.gitconfig: git/.gitconfig
    ~/.gitconfig.local: git/.gitconfig.local
    ~/.gitignore_global: git/.gitignore_global

# Use fish as default shell
- shell:
  -
    command: chsh -s $(which fish)
    description: Making fish the default shell
